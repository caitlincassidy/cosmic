<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>Cosmic</title>

<!-- Load style sheets -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.1/fullcalendar.min.css">
<link rel="styleheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.1/fullcalendar.print.css">

<link href="https://fonts.googleapis.com/css?family=Cairo|Gentium+Basic|Roboto" rel="stylesheet">

 <link rel="stylesheet" href="css/mainLayout.css">

<!-- Use mobile-aware viewport -->
<meta name="viewport" content=
  "width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Load any supplemental Javascript libraries here -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.1/fullcalendar.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="http://www.eyecon.ro/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

  <!-- Include Date Range Picker -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

  <!-- Custom scripts -->
  <script src="js/load-header.js" defer></script>


</head>

<body>
<script>
	$(document).ready(function() {
		
		
// From http://zurb.com/building-blocks/sticky-sidebar
	var stickySidebar = $('.sticky');

	if (stickySidebar.length > 0) { 
	  var stickyHeight = stickySidebar.height(),
		  sidebarTop = stickySidebar.offset().top;
	}

	// on scroll move the sidebar
	$(window).scroll(function () {
	  if (stickySidebar.length > 0) { 
		var scrollTop = $(window).scrollTop();

		if (sidebarTop < scrollTop) {
		  stickySidebar.css('top', scrollTop - sidebarTop);

		  // stop the sticky sidebar at the footer to avoid overlapping
		  var sidebarBottom = stickySidebar.offset().top + stickyHeight,
			  stickyStop = $('.main-content').offset().top + $('.main-content').height();
		  if (stickyStop < sidebarBottom) {
			var stopPosition = $('.main-content').height() - stickyHeight;
			stickySidebar.css('top', stopPosition);
		  }
		}
		else {
		  stickySidebar.css('top', '0');
		} 
	  }
	});

	$(window).resize(function () {
	  if (stickySidebar.length > 0) { 
		stickyHeight = stickySidebar.height();
	  }
	});	
	
	});
</script>	
	

  <script>
    // Remove a task
    $(document).on('click', ":checkbox", function(evt) {
      $(this).parent().fadeOut(
        400,
        function() {
          // Remove dom element
          $(this).remove();
        }
      );
    });
          // TODO(GR5): Make it undo-able

    $(document).ready(function() {
      $("#new_task_due_date").daterangepicker({
        "applyClass": "btn-primary",
        "singleDatePicker": true,
        "startDate": moment().endOf("week").format("MM/DD/YYYY"),
      });
    });

    // Make new task dropdown actually display the selected event
    // Source: http://stackoverflow.com/questions/13437446/how-to-display-selected-item-in-bootstrap-button-dropdown-title
    $(document).on('click', ".dropdown-menu li a", function() {
      $(".btn:first-child").text($(this).text());
      $(".btn:first-child").val($(this).text());
      // Keeps the caret down displayed
      $(this).parents(".dropdown").find('.btn').html($(this).text() + ' <span class="caret"></span>');
    });

  </script>


	<div class="container-fluid">
		<div class="row main-header">
      <div class="col-lg-2"></div>
    </div>
  	<div class="row">
  		<div class="col-lg-2" id="menubar">
  		</div>

      <div class="col-lg-8 page-content main-content">

        <!-- TODO(@Becky): choose an actually good accent color -->
        <h3 id="outstanding" style="background-color:#eac0f7"> Outstanding </h3>
        <div id="outstanding-contents"></div>

        <h3 id="due-today" style="background-color:#eac0f7"> Due today </h3>
        <div id="due-today-contents"></div>

        <h3 id="upcoming" style="background-color:#eac0f7"> Upcoming </h3>
        <div id="upcoming-contents"></div>

      </div>
      <div class="col-lg-2 panel sticky right-sidebar" id="sidebar">
		  
        <h2> Create New Task </h2>

        <!-- Task text -->
        <div class="form-group">
          <textarea class="form-control" rows="2" id="create-task-text" placeholder="Task to add"></textarea>
        </div>

        <!-- Date it's due -->
        <div class="form-group">
            <input type='text' class="form-control" placeholder="Due date" id="create-task-due-date"/>
        </div>

        <button type="button" class="btn btn-default btn-primary" style="float: right" id="create">Create</button>
      </div>

  	</div> <!-- class="row" -->
	</div> <!-- class="container" -->

  <script id="load-menubar-script" src="js/load-menubar.js" link="tasks.html"></script>

</body>

</html>

<!-- TODO(GR5): Make checkboxes + hamburger button work -->